<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.310">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Book Description">
<title>Book Template - 4&nbsp; Inequality and network position</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./4.html" rel="next">
<link href="./2.html" rel="prev">
<link href="./images/logos/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
<link rel="stylesheet" href="include/booktem.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/glossary.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./3.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Inequality and network position</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Book Template</a> 
        <div class="sidebar-tools-main tools-wide">
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Book-Template.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Book-Template.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
</div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview: Social Network Analysis (0HV80)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Social computing using R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Social network basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Inequality and network position</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Social Cohesion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Rationalization: Diffusion networks</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#visualization" id="toc-visualization" class="nav-link active" data-scroll-target="#visualization"><span class="header-section-number">4.1</span> Visualization</a>
  <ul class="collapse">
<li><a href="#the-data-zacharys-karate-club" id="toc-the-data-zacharys-karate-club" class="nav-link" data-scroll-target="#the-data-zacharys-karate-club"><span class="header-section-number">4.1.1</span> The data: Zachary’s karate-club</a></li>
  <li><a href="#adjusting-vertices" id="toc-adjusting-vertices" class="nav-link" data-scroll-target="#adjusting-vertices"><span class="header-section-number">4.1.2</span> Adjusting vertices</a></li>
  <li><a href="#adjusting-edges" id="toc-adjusting-edges" class="nav-link" data-scroll-target="#adjusting-edges"><span class="header-section-number">4.1.3</span> Adjusting edges</a></li>
  <li><a href="#network-layouts" id="toc-network-layouts" class="nav-link" data-scroll-target="#network-layouts"><span class="header-section-number">4.1.4</span> Network layouts</a></li>
  <li><a href="#a-visualization-example" id="toc-a-visualization-example" class="nav-link" data-scroll-target="#a-visualization-example"><span class="header-section-number">4.1.5</span> A visualization example</a></li>
  </ul>
</li>
  <li>
<a href="#centrality" id="toc-centrality" class="nav-link" data-scroll-target="#centrality"><span class="header-section-number">4.2</span> Centrality</a>
  <ul class="collapse">
<li><a href="#the-medici-dataset" id="toc-the-medici-dataset" class="nav-link" data-scroll-target="#the-medici-dataset"><span class="header-section-number">4.2.1</span> The Medici dataset</a></li>
  <li><a href="#degree-centrality" id="toc-degree-centrality" class="nav-link" data-scroll-target="#degree-centrality"><span class="header-section-number">4.2.2</span> Degree Centrality</a></li>
  <li><a href="#betweenness-centrality" id="toc-betweenness-centrality" class="nav-link" data-scroll-target="#betweenness-centrality"><span class="header-section-number">4.2.3</span> Betweenness Centrality</a></li>
  <li><a href="#closeness-centrality" id="toc-closeness-centrality" class="nav-link" data-scroll-target="#closeness-centrality"><span class="header-section-number">4.2.4</span> Closeness Centrality</a></li>
  <li><a href="#eigenvector-centrality" id="toc-eigenvector-centrality" class="nav-link" data-scroll-target="#eigenvector-centrality"><span class="header-section-number">4.2.5</span> Eigenvector Centrality</a></li>
  </ul>
</li>
  <li>
<a href="#variation-in-centrality" id="toc-variation-in-centrality" class="nav-link" data-scroll-target="#variation-in-centrality"><span class="header-section-number">4.3</span> Variation in centrality</a>
  <ul class="collapse">
<li><a href="#classic-communication-experiments" id="toc-classic-communication-experiments" class="nav-link" data-scroll-target="#classic-communication-experiments"><span class="header-section-number">4.3.1</span> Classic communication experiments</a></li>
  <li><a href="#network-structure-success-and-leadership-perception" id="toc-network-structure-success-and-leadership-perception" class="nav-link" data-scroll-target="#network-structure-success-and-leadership-perception"><span class="header-section-number">4.3.2</span> Network structure, success and leadership perception</a></li>
  <li><a href="#illicit-networks" id="toc-illicit-networks" class="nav-link" data-scroll-target="#illicit-networks"><span class="header-section-number">4.3.3</span> Illicit networks</a></li>
  </ul>
</li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise"><span class="header-section-number">4.4</span> Exercise</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Inequality and network position</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p><font size="2"> <em>It’s not “what you know”, it’s “who you know”.</em> American saying </font></p>
<p>This part of the course is about how persons are embedded in a network structure, and how a network position can be related to advantages, and inequality on the aggregate network level. Before we discuss network position in these notes, let us learn how to producing smooth and meaningful visualizations (and how to emphasize network positions in visualizations of graphs).</p>
<p>Intended learning outcomes:</p>
<ul>
<li>be able to effectively visualize networks</li>
<li>be able to use different network layouts (MDS, FR)</li>
<li>be able to calculate and interpret various centrality measures</li>
<li>be able to calculate and interpret network centralization (variation in centrality)</li>
</ul>
<section id="visualization" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="visualization">
<span class="header-section-number">4.1</span> Visualization</h2>
<p>Producing and examining a network plot is often one of the first steps in network analysis. The overall purpose of a network graphic (as with any information graphic) is to highlight the important information contained in the underlying data. However, there are innumerable ways to visually layout network nodes and ties in two-dimensional space, as well as using graphical elements (e.g.,node size, line color, figure legend, etc.) to communicate the story in the network data. In the next three chapters we go over basic principles of effective network graph design, and how to produce effective network visualizations in R. The purpose of this part is to introduce basic plotting techniques for networks in R, and discuss the various options for specifying the layout of the network on the screen or page. The following example shows how interpretation of a network graphic can be impeded or enhanced by its basic layout.</p>
<p>Network plots in igraph have a wide set of parameters you can set. We will discuss most below, but you can also check out <code>?igraph.plotting</code> for more information.</p>
<p>If you plan on using the built-in color names, here’s how to list all of them: <code><a href="https://rdrr.io/r/grDevices/colors.html">colors()</a></code></p>
<section id="the-data-zacharys-karate-club" class="level3" data-number="4.1.1"><h3 data-number="4.1.1" class="anchored" data-anchor-id="the-data-zacharys-karate-club">
<span class="header-section-number">4.1.1</span> The data: Zachary’s karate-club</h3>
<p>To illustrate we’ll use the famous Zachary’s Karate-club data (you can obtain it via the <code>igraphdata</code> package). This graph originates from a piece of research on a karate club by social anthropologist Wayne W. Zachary, and is commonly used as an example of a social network in many teaching situations today. The graph contains 34 vertices representing different individuals or actors. The karate instructor is labelled as ‘Mr Hi’. The club administrator is labelled as ‘John A’. The other 32 actors are labelled as ‘Actor 2’ through ‘Actor 33’. Zachary studied the social interactions between the members outside the club meetings, and during his study a conflict arose in the club that eventually led to the group splitting into two: one group forming a new club around the instructor Mr Hi and the other group dispersing to find new clubs or to give up karate completely. In this graph, an edge between two vertices means that the two individuals interacted socially outside the club.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">data</span>(karate)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">head</span>(karate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>This graph was created by an old(er) igraph version.
  Call upgrade_graph() on it to use with the current igraph version
  For now we convert it on the fly...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>6 x 34 sparse Matrix of class "dgCMatrix"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>  [[ suppressing 34 column names 'Mr Hi', 'Actor 2', 'Actor 3' ... ]]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                           
Mr Hi   . 4 5 3 3 3 3 2 2 . 2 3 1 3 . . . 2 . 2 . 2 . . . . . . . . . 2 . .
Actor 2 4 . 6 3 . . . 4 . . . . . 5 . . . 1 . 2 . 2 . . . . . . . . 2 . . .
Actor 3 5 6 . 3 . . . 4 5 1 . . . 3 . . . . . . . . . . . . . 2 2 . . . 2 .
Actor 4 3 3 3 . . . . 3 . . . . 3 3 . . . . . . . . . . . . . . . . . . . .
Actor 5 3 . . . . . 2 . . . 3 . . . . . . . . . . . . . . . . . . . . . . .
Actor 6 3 . . . . . 5 . . . 3 . . . . . 3 . . . . . . . . . . . . . . . . .</code></pre>
</div>
</div>
<p>As we have seen in previous parts of the course the igraph package allows for simple plotting of graphs using the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function. The function works instantly with an igraph object, using default values for its various arguments. As a starting point, we will use all of the default values except for the layout of the graph. We will set the layout of the plot initially to be a random layout, which will randomly allocate the vertices to different positions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># set seed for reproducibility</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># create random layout</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_randomly</span>(karate)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co"># plot with random layout</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looking at the Figure we note that the labeling of the vertices is somewhat obtrusive and unhelpful to the clarity of the graph. This will be a common problem with default graph plotting, and with a large number of vertices the plot can easily turn into a messy cloud of overlapping labels.</p>
</section><section id="adjusting-vertices" class="level3" data-number="4.1.2"><h3 data-number="4.1.2" class="anchored" data-anchor-id="adjusting-vertices">
<span class="header-section-number">4.1.2</span> Adjusting vertices</h3>
<p>Vertex labels can be adjusted via properties of the vertices. The most common properties adjusted are as follows:</p>
<ul>
<li>
<code>label</code>: The text of the label</li>
<li>
<code>label.family</code>: The font family to be used (default is ‘serif’)</li>
<li>
<code>label.font</code>: The font style, where 1 is plain (default), 2 is bold, 3 is italic, 4 is bold and italic and 5 is symbol font</li>
<li>
<code>label.cex</code>: The size of the label text</li>
<li>
<code>label.color</code>: The color of the label text</li>
<li>
<code>label.dist</code>: The distance of the label from the vertex, where 0 is centered on the vertex (default) and 1 is beside the vertex</li>
<li>
<code>label.degree</code>: The angle at which the label will display relative to the center of the vertex, in radians. The default is -pi/4</li>
</ul>
<p>Let’s try to change the vertex labels so that they only display for Mr Hi and for John A. Let’s also change the size, color and font family of the labels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># only store a label if Mr Hi or John A</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co"># %in%: A logical vector, indicating if a match was located for each element of </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># V(karate)$name</span></span>
<span id="cb7-4"><a href="#cb7-4"></a></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="fu">V</span>(karate)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(karate)<span class="sc">$</span>name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mr Hi"</span>, <span class="st">"John A"</span>),</span>
<span id="cb7-6"><a href="#cb7-6"></a>                          <span class="fu">V</span>(karate)<span class="sc">$</span>name,</span>
<span id="cb7-7"><a href="#cb7-7"></a>                          <span class="st">""</span>)</span>
<span id="cb7-8"><a href="#cb7-8"></a></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co"># change label font color, size and font family </span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co"># (selected font family needs to be installed on system)</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="fu">V</span>(karate)<span class="sc">$</span>label.color <span class="ot">&lt;-</span> <span class="st">"black"</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="fu">V</span>(karate)<span class="sc">$</span>label.cex <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb7-13"><a href="#cb7-13"></a></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now that we have cleaned up the label situation, we may wish to change the appearance of the vertices. Here are the most commonly used vertex properties which allow this:</p>
<ul>
<li>
<code>size</code>: The size of the vertex</li>
<li>
<code>color</code>: The fill color of the vertex</li>
<li>
<code>frame.color</code>: The border color of the vertex</li>
<li>
<code>shape</code>: The shape of the vertex; multiple shape options are supported including circle, square, rectangle and none</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># different colors and shapes for Mr Hi and and John A</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">V</span>(karate)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(karate)<span class="sc">$</span>name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mr Hi"</span>, <span class="st">"John A"</span>),</span>
<span id="cb8-3"><a href="#cb8-3"></a>                          <span class="st">"lightblue"</span>, </span>
<span id="cb8-4"><a href="#cb8-4"></a>                          <span class="st">"orange"</span>)</span>
<span id="cb8-5"><a href="#cb8-5"></a></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="fu">V</span>(karate)<span class="sc">$</span>shape <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(karate)<span class="sc">$</span>name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mr Hi"</span>, <span class="st">"John A"</span>),</span>
<span id="cb8-7"><a href="#cb8-7"></a>                          <span class="st">"square"</span>, </span>
<span id="cb8-8"><a href="#cb8-8"></a>                          <span class="st">"circle"</span>)</span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="adjusting-edges" class="level3" data-number="4.1.3"><h3 data-number="4.1.3" class="anchored" data-anchor-id="adjusting-edges">
<span class="header-section-number">4.1.3</span> Adjusting edges</h3>
<p>In a similar way, edges can be changed through adding or editing edge properties. Here are some common edge properties that are used to change the edges in an igraph plot:</p>
<ul>
<li>
<code>color</code>: The color of the edge</li>
<li>
<code>width</code>: The width of the edge</li>
<li>
<code>arrow.size</code>: The size of the arrow in a directed edge</li>
<li>
<code>arrow.width</code>: The width of the arrow in a directed edge</li>
<li>
<code>arrow.mode</code>: Whether edges should direct forward (&gt;), backward (&lt;) or both (&lt;&gt;)</li>
<li>
<code>lty</code> : Line type of edges, with numerous options including solid, dashed, dotted, dotdash and blank</li>
<li>
<code>curved</code>: The amount of curvature to apply to the edge, with zero (default) as a straight edge, negative numbers bending clockwise and positive bending anti-clockwise</li>
</ul>
<p>Note that edges, like vertices, can also have a label property and various label settings like label.cex and label.family. Let’s adjust our karate graph to have blue dashed edges, with the result in Figure 3.5.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># change color and linetype of all edges</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">E</span>(karate)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">E</span>(karate)<span class="sc">$</span>lty <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="network-layouts" class="level3" data-number="4.1.4"><h3 data-number="4.1.4" class="anchored" data-anchor-id="network-layouts">
<span class="header-section-number">4.1.4</span> Network layouts</h3>
<p>The layout of a graph determines the precise position of its vertices on a 2-dimensional plane or in 3-dimensional space. Layouts are themselves algorithms that calculate vertex positions based on properties of the graph. Different layouts work for different purposes, for example to visually identify communities in a graph, or just to make the graph look pleasant. We preciously used a random layout for our karate graph. Now let’s look at common alternative layouts. Layouts are used by multiple plotting packages, but we will explore them using igraph base plotting capabilities here.</p>
<p>There are two ways to add a layout to a graph in igraph. If you want to keep the graph object separate from the layout, you can create the layout and use it as an argument in the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function. Alternatively, you can assign a layout to a graph object by making it a property of the graph. You should only do this if you intend to stick permanently with your chosen layout and do not intend to experiment. You can use the <code>add_layout_()</code> function to achieve this. For example, this would create a karate graph with a grid layout.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#check whether existing karate graph has a layout property</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>karate<span class="sc">$</span>layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># assign grid layout as a graph property</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a>karate_grid <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">add_layout_</span>(karate, <span class="fu">on_grid</span>())</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co"># check a few lines of the 'layout' property</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="fu">head</span>(karate_grid<span class="sc">$</span>layout)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    0    0
[2,]    1    0
[3,]    2    0
[4,]    3    0
[5,]    4    0
[6,]    5    0</code></pre>
</div>
</div>
<p>We can see that our new graph object has a layout property. Note that running <code>add_layout_()</code> on a graph that already has a layout property will by default overwrite the previous layout unless you set the argument <code>overwrite = FALSE</code>.</p>
<p>As well as the random layout demonstrated in Figure 3.2, common shape layouts include <code>as_star()</code>, <code>as_tree()</code>, <code>in_circle()</code>, <code>on_grid()</code> and <code>on_sphere()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># circle layout</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb14-3"><a href="#cb14-3"></a>circ <span class="ot">&lt;-</span> <span class="fu">layout_in_circle</span>(karate)</span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> circ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># sphere layout</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb15-3"><a href="#cb15-3"></a>sph <span class="ot">&lt;-</span> <span class="fu">layout_on_sphere</span>(karate)</span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> sph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Force-directed graph layouts are extremely popular, as they are aesthetically pleasing and they help visualize communities of vertices quite effectively, especially in graphs with low to moderate edge complexity. These algorithms emulate physical models like Hooke’s law to attract connected vertices together, at the same time applying repelling forces to all pairs of vertices to try to keep as much space as possible between them. This calculation is an iterative process where vertex positions are calculated again and again until equilibrium is reached. The result is usually a layout where connected vertices are closer together and where edge lengths are approximately equal.</p>
<p>For Zachary’s Karate Club study, which was a study of connection and community, we can imagine that a force-directed layout would be a good choice of visualization, and we will find that this is the case for many other network graphs we study. There are several different implementations of force-directed algorithms available. Perhaps the most popular of these is the Fruchterman-Reingold algorithm. The Figure below shows our karate network with the layout generated by the Fruchterman-Reingold algorithm, and we can see clear communities in the karate club oriented around Mr Hi and John A.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># F-R algorithm</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb16-3"><a href="#cb16-3"></a>fr <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(karate)</span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> fr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The Kamada-Kawai algorithm and the GEM algorithm are also commonly used force-directed algorithms and they produce similar types of community structures as in Figures 3.9 and 3.10, respectively.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># K-K algorithm</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a>kk <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(karate)</span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> kk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># GEM algorithm</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a>gem <span class="ot">&lt;-</span> <span class="fu">layout_with_gem</span>(karate)</span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="fu">plot</span>(karate, <span class="at">layout =</span> gem)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As well as force-directed and shape-oriented layout algorithms, several alternative approaches to layout calculations are also available. An important alternative to force-directed approaches it the <strong>multivariate scaling</strong> technique. The purpose of multidimensional scaling (MDS) is to provide a visual representation of the pattern of proximities among a set of actors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a>mds <span class="ot">&lt;-</span> <span class="fu">layout_with_mds</span>(karate)</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="fu">plot</span>(karate, <span class="at">vertex.label=</span><span class="fu">V</span>(karate)<span class="sc">$</span>name, <span class="at">vertex.label.cex=</span>.<span class="dv">5</span>,<span class="at">layout =</span> mds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The MDS layout plots similar actors close to eachother, so actor 10 and actor 31 are similar. A drawback of the MDS layout is that similar actors are sometimes plotted on top of each others, which provides us with a less aesthetically pleasing visualization.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a>dh <span class="ot">&lt;-</span> <span class="fu">layout_with_dh</span>(karate)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">plot</span>(karate, <span class="at">vertex.label=</span><span class="fu">V</span>(karate)<span class="sc">$</span>name, <span class="at">vertex.label.cex=</span>.<span class="dv">5</span>,<span class="at">layout =</span> dh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="a-visualization-example" class="level3" data-number="4.1.5"><h3 data-number="4.1.5" class="anchored" data-anchor-id="a-visualization-example">
<span class="header-section-number">4.1.5</span> A visualization example</h3>
<p>Above we exhibited several <code>igraph.plotting</code> aspects, however the aesthetic aspect. For a second practical example, we make use of the organizational network data from part 2. These data are from a well-known series of studies by David Krackhardt of a corporate hierarchy.</p>
<p>There a number of <code>igraph.plotting</code> options that are useful. The <code>asp</code> function was used before already (i prefer the aspect ratio 0.6 for the html output).</p>
<ul>
<li>
<code>margin</code>: Empty space margins around the plot, vector with length 4</li>
<li>
<code>frame</code>: if TRUE, the plot will be framed</li>
<li>
<code>main</code>: If set, adds a title to the plot</li>
<li>
<code>sub</code>: If set, adds a subtitle to the plot</li>
<li>
<code>asp</code>: Numeric, the aspect ratio of a plot (y/x)</li>
<li>
<code>palette</code>: A color palette to use for vertex color</li>
<li>
<code>rescale</code>: Whether to rescale coordinates to [-1,1]. Default is TRUE.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>Initial.matrix <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/Krack-High-Tec-Friendship-edges.csv"</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">row.names=</span><span class="dv">1</span>)</span>
<span id="cb21-2"><a href="#cb21-2"></a>matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(Initial.matrix) </span>
<span id="cb21-3"><a href="#cb21-3"></a>friendship <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(matrix, <span class="at">mode=</span><span class="st">"directed"</span>, <span class="at">weighted=</span><span class="cn">NULL</span>)</span>
<span id="cb21-4"><a href="#cb21-4"></a></span>
<span id="cb21-5"><a href="#cb21-5"></a>nodes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"data/Krackh-High-Tec-nodes2.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb21-6"><a href="#cb21-6"></a></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="fu">V</span>(friendship)<span class="sc">$</span>age    <span class="ot">=</span> nodes<span class="sc">$</span>AGE</span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="fu">V</span>(friendship)<span class="sc">$</span>tenure <span class="ot">=</span> nodes<span class="sc">$</span>TENURE</span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="fu">V</span>(friendship)<span class="sc">$</span>level <span class="ot">=</span>  nodes<span class="sc">$</span>LEVEL</span>
<span id="cb21-10"><a href="#cb21-10"></a></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="fu">plot</span>(friendship, <span class="at">asp=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This plot is not really helpful. Let’s take some steps to improve the visualization. I add labels for the names (recall that the attribute label is now added to the igraph object friendship), but take care that this label is next to the vertex. The size is reduced, arrow size is reduced, edge is curved a bit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">V</span>(friendship)<span class="sc">$</span>label <span class="ot">=</span>  nodes<span class="sc">$</span>names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">plot</span>(friendship, </span>
<span id="cb23-2"><a href="#cb23-2"></a>     <span class="at">vertex.size=</span><span class="dv">6</span>, </span>
<span id="cb23-3"><a href="#cb23-3"></a>     <span class="at">vertex.label.cex=</span>.<span class="dv">6</span>,</span>
<span id="cb23-4"><a href="#cb23-4"></a>     <span class="at">vertex.label.dist=</span><span class="fl">1.5</span>,</span>
<span id="cb23-5"><a href="#cb23-5"></a>     <span class="at">vertex.label.degree=</span><span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb23-6"><a href="#cb23-6"></a>     <span class="at">edge.curved=</span>.<span class="dv">2</span>,</span>
<span id="cb23-7"><a href="#cb23-7"></a>     <span class="at">edge.arrow.size=</span>.<span class="dv">3</span>,</span>
<span id="cb23-8"><a href="#cb23-8"></a>     <span class="at">asp=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A good drawing can also help us to better understand how a particular “ego” (node) is “embedded” (connected to) its “neighborhood” (the actors that are connected to ego, and their connections to one another) and to the larger graph (is “ego” an “isolate” a “pendant”?). By looking at “ego” and the “ego network” (i.e.&nbsp;“neighborhood”), we can get a sense of the structural constraints and opportunities that an actor faces; we may be better able to understand the role that an actor plays in a social structure.</p>
<p>In our example we could be interested in the embedding of the different hierarchical levels (coded 1,2 and 3; 1=CEO, 2 = Vice President, 3 = manager)</p>
<p>First we create a vector color <code>color &lt;- c("red", "blue", "yellow")</code>, after that <code>color[V(friendship)\$level]</code> is used to assign a color to the values in the “V(friendship)$level” vector. An alternative way is to create a color vector <code>color&lt;-V(friendship)\$level</code>, and then assign the colors to the values in the vector color (color[1]&lt;-“red”, color[2]&lt;-“blue”,color[3]&lt;-“yellow”).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>color <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"yellow"</span>)</span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">V</span>(friendship)<span class="sc">$</span>color <span class="ot">&lt;-</span> color[<span class="fu">V</span>(friendship)<span class="sc">$</span>level]</span>
<span id="cb24-3"><a href="#cb24-3"></a>shape <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"crectangle"</span>, <span class="st">"square"</span>, <span class="st">"circle"</span>)</span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="fu">V</span>(friendship)<span class="sc">$</span>shape <span class="ot">&lt;-</span> shape[<span class="fu">V</span>(friendship)<span class="sc">$</span>level]</span>
<span id="cb24-5"><a href="#cb24-5"></a></span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="fu">plot</span>(friendship, </span>
<span id="cb24-7"><a href="#cb24-7"></a>     <span class="at">vertex.size=</span><span class="dv">6</span>, </span>
<span id="cb24-8"><a href="#cb24-8"></a>     <span class="at">vertex.label.cex=</span>.<span class="dv">6</span>,</span>
<span id="cb24-9"><a href="#cb24-9"></a>     <span class="at">vertex.label.dist=</span><span class="fl">1.5</span>,</span>
<span id="cb24-10"><a href="#cb24-10"></a>     <span class="at">vertex.label.degree=</span><span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb24-11"><a href="#cb24-11"></a>     <span class="at">edge.curved=</span>.<span class="dv">2</span>,</span>
<span id="cb24-12"><a href="#cb24-12"></a>     <span class="at">edge.arrow.size=</span>.<span class="dv">3</span>,</span>
<span id="cb24-13"><a href="#cb24-13"></a>     <span class="at">asp=</span><span class="fl">0.6</span>)</span>
<span id="cb24-14"><a href="#cb24-14"></a></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="fu">legend</span>(<span class="at">x=</span><span class="sc">-</span><span class="dv">1</span>, <span class="at">y=</span><span class="sc">-</span><span class="fl">0.6</span>, <span class="fu">c</span>(<span class="st">"ceo"</span>,<span class="st">"vp"</span>, <span class="st">"manager"</span>), <span class="at">pch=</span><span class="dv">21</span>,</span>
<span id="cb24-16"><a href="#cb24-16"></a>       <span class="at">col=</span><span class="st">"#777777"</span>, <span class="at">pt.bg=</span>color, <span class="at">pt.cex=</span><span class="dv">2</span>, <span class="at">cex=</span>.<span class="dv">8</span>, <span class="at">bty=</span><span class="st">"n"</span>, <span class="at">ncol=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Adjusting the size of nodes according to attributes can be useful as well, particularity if the size is proportional to a degree-like measure. It is clear in this visualization that some of the managers are well connected in the friendship network, the CEO and VP are less well connected (which is not necessarily bad).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">plot</span>(friendship, </span>
<span id="cb25-2"><a href="#cb25-2"></a>     <span class="at">vertex.size=</span><span class="fu">degree</span>(friendship), </span>
<span id="cb25-3"><a href="#cb25-3"></a>     <span class="at">vertex.label.cex=</span>.<span class="dv">6</span>,</span>
<span id="cb25-4"><a href="#cb25-4"></a>     <span class="at">vertex.label.dist=</span><span class="fl">1.5</span>,</span>
<span id="cb25-5"><a href="#cb25-5"></a>     <span class="at">vertex.label.degree=</span><span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb25-6"><a href="#cb25-6"></a>     <span class="at">edge.curved=</span>.<span class="dv">2</span>,</span>
<span id="cb25-7"><a href="#cb25-7"></a>     <span class="at">edge.arrow.size=</span>.<span class="dv">3</span>,</span>
<span id="cb25-8"><a href="#cb25-8"></a>     <span class="at">asp=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It is common to adjust the appearance of edges as well. A classic example is the distinction between weak ties and strong ties (often the weak ties are depicted as dotted lines). In our example data we know whether a friendship nomitation is reciprocated or not. Based on this information we could construct an edge attribute “strength of tie” assuming that a reciprocated friendship nomination indicates that a tie is stronger.</p>
<p>Recall that we read the data into an adjacency matrix (matrix) that was used to create an igraph object. We use this matrix to calculate whether a nomination is reciprocated or not (this does not work well in igraph objects). By transposing and then adding the transposed matrix to the original we get a weighted network (0=no connection, 1=weak, 2=strong).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>tmatrix<span class="ot">=</span><span class="fu">t</span>(matrix)</span>
<span id="cb26-2"><a href="#cb26-2"></a>rmatrix <span class="ot">=</span> tmatrix<span class="sc">+</span>matrix</span>
<span id="cb26-3"><a href="#cb26-3"></a>rmatrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21
X1  0 2 0 2 0 0 0 1 0  0  1  2  0  0  1  2  1  0  1  0  0
X2  2 0 0 1 1 1 0 0 0  0  1  0  0  0  0  1  1  2  1  0  2
X3  0 0 0 0 0 0 0 0 0  1  1  0  0  1  1  0  1  0  2  0  0
X4  2 1 0 0 0 0 0 2 0  0  1  2  0  0  0  1  2  0  0  0  0
X5  0 1 0 0 0 0 0 0 1  1  2  0  1  1  1  0  2  0  2  0  1
X6  0 1 0 0 0 0 1 0 1  0  0  1  0  0  1  0  2  0  0  0  1
X7  0 0 0 0 0 1 0 0 0  0  0  0  0  1  0  0  1  0  0  0  0
X8  1 0 0 2 0 0 0 0 0  1  1  0  0  0  0  0  1  0  0  0  0
X9  0 0 0 0 1 1 0 0 0  1  1  0  0  0  1  0  1  0  0  0  0
X10 0 0 1 0 1 0 0 1 1  0  0  1  0  0  0  1  1  0  0  1  0
X11 1 1 1 1 2 0 0 1 1  0  0  1  2  0  2  0  2  1  2  1  0
X12 2 0 0 2 0 1 0 0 0  1  1  0  0  0  0  0  2  0  1  0  2
X13 0 0 0 0 1 0 0 0 0  0  2  0  0  0  0  0  0  0  0  0  0
X14 0 0 1 0 1 0 1 0 0  0  0  0  0  0  2  0  1  0  1  0  0
X15 1 0 1 0 1 1 0 0 1  0  2  0  0  2  0  0  1  0  2  0  0
X16 2 1 0 1 0 0 0 0 0  1  0  0  0  0  0  0  1  0  0  0  0
X17 1 1 1 2 2 2 1 1 1  1  2  2  0  1  1  1  0  0  1  1  2
X18 0 2 0 0 0 0 0 0 0  0  1  0  0  0  0  0  0  0  0  1  1
X19 1 1 2 0 2 0 0 0 0  0  2  1  0  1  2  0  1  0  0  1  0
X20 0 0 0 0 0 0 0 0 0  1  1  0  0  0  0  0  1  1  1  0  0
X21 0 2 0 0 1 1 0 0 0  0  0  2  0  0  0  0  2  1  0  0  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>friendship2 <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(rmatrix, <span class="at">mode=</span><span class="st">"undirected"</span>, <span class="at">weighted=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a>nodes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"data/Krackh-High-Tec-nodes2.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-4"><a href="#cb28-4"></a></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="fu">V</span>(friendship2)<span class="sc">$</span>age    <span class="ot">=</span> nodes<span class="sc">$</span>AGE</span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="fu">V</span>(friendship2)<span class="sc">$</span>tenure <span class="ot">=</span> nodes<span class="sc">$</span>TENURE</span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="fu">V</span>(friendship2)<span class="sc">$</span>level <span class="ot">=</span>  nodes<span class="sc">$</span>LEVEL</span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="fu">V</span>(friendship2)<span class="sc">$</span>label <span class="ot">=</span>  nodes<span class="sc">$</span>names</span>
<span id="cb28-9"><a href="#cb28-9"></a></span>
<span id="cb28-10"><a href="#cb28-10"></a>color <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"yellow"</span>)</span>
<span id="cb28-11"><a href="#cb28-11"></a><span class="fu">V</span>(friendship2)<span class="sc">$</span>color <span class="ot">&lt;-</span> color[<span class="fu">V</span>(friendship)<span class="sc">$</span>level]</span>
<span id="cb28-12"><a href="#cb28-12"></a>shape <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"crectangle"</span>, <span class="st">"square"</span>, <span class="st">"circle"</span>)</span>
<span id="cb28-13"><a href="#cb28-13"></a><span class="fu">V</span>(friendship2)<span class="sc">$</span>shape <span class="ot">&lt;-</span> shape[<span class="fu">V</span>(friendship)<span class="sc">$</span>level]</span>
<span id="cb28-14"><a href="#cb28-14"></a></span>
<span id="cb28-15"><a href="#cb28-15"></a>e<span class="ot">=</span><span class="fu">E</span>(friendship2)<span class="sc">$</span>weight</span>
<span id="cb28-16"><a href="#cb28-16"></a>e</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2 2 1 1 2 1 2 1 1 1 1 1 1 1 1 2 1 2 1 1 1 1 1 2 2 1 2 1 2 1 1 2 1 1 1 2 2 1
[39] 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 1 2 1 2 1 2 2 1 1 1 2 1 1 1 2
[77] 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>friendship2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 4947be4 UNW- 21 79 -- 
+ attr: name (v/c), age (v/n), tenure (v/n), level (v/n), label (v/c),
| color (v/c), shape (v/c), weight (e/n)
+ edges from 4947be4 (vertex names):
 [1] 1 --2  1 --4  1 --8  1 --11 1 --12 1 --15 1 --16 1 --17 1 --19 2 --4 
[11] 2 --5  2 --6  2 --11 2 --16 2 --17 2 --18 2 --19 2 --21 3 --10 3 --11
[21] 3 --14 3 --15 3 --17 3 --19 4 --8  4 --11 4 --12 4 --16 4 --17 5 --9 
[31] 5 --10 5 --11 5 --13 5 --14 5 --15 5 --17 5 --19 5 --21 6 --7  6 --9 
[41] 6 --12 6 --15 6 --17 6 --21 7 --14 7 --17 8 --10 8 --11 8 --17 9 --10
[51] 9 --11 9 --15 9 --17 10--12 10--16 10--17 10--20 11--12 11--13 11--15
[61] 11--17 11--18 11--19 11--20 12--17 12--19 12--21 14--15 14--17 14--19
+ ... omitted several edges</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co">#edge.lty = E(fri)</span></span>
<span id="cb32-2"><a href="#cb32-2"></a></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="fu">plot</span>(friendship2, </span>
<span id="cb32-4"><a href="#cb32-4"></a>     <span class="at">edge.lty=</span><span class="fu">E</span>(friendship2)<span class="sc">$</span>weight,</span>
<span id="cb32-5"><a href="#cb32-5"></a>     <span class="at">edge.width=</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">E</span>(friendship2)<span class="sc">$</span>weight)<span class="sc">*</span><span class="fl">1.5</span>,</span>
<span id="cb32-6"><a href="#cb32-6"></a>     <span class="at">vertex.label.cex=</span>.<span class="dv">6</span>,</span>
<span id="cb32-7"><a href="#cb32-7"></a>     <span class="at">vertex.size=</span><span class="fu">degree</span>(friendship2),</span>
<span id="cb32-8"><a href="#cb32-8"></a>     <span class="at">vertex.label.dist=</span><span class="fl">1.5</span>,</span>
<span id="cb32-9"><a href="#cb32-9"></a>     <span class="at">vertex.label.degree=</span><span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb32-10"><a href="#cb32-10"></a>     <span class="at">edge.curved=</span>.<span class="dv">2</span>,</span>
<span id="cb32-11"><a href="#cb32-11"></a>     <span class="at">edge.arrow.size=</span>.<span class="dv">3</span>,</span>
<span id="cb32-12"><a href="#cb32-12"></a>     <span class="at">asp=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There is no single “right way” to represent network data with graphs. There are a few basic rules.Different ways of drawing pictures of network data can emphasize (or obscure) different features of the social structure. It’s usually a good idea to play with visualizing a network, to experiment and be creative.</p>
<section id="network-layouts-1" class="level4" data-number="4.1.5.1"><h4 data-number="4.1.5.1" class="anchored" data-anchor-id="network-layouts-1">
<span class="header-section-number">4.1.5.1</span> Network Layouts</h4>
<p>The layout options provided in igraph work algorithmically or heuristically, usually with some randomness. So, even with the same layout option, a different graphic layout will be produced each time the network is plotted. By setting a seed (<code>set.seed</code>) we can ensure reproducibility.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># this is a function to present two graphs in one figure (one row and two columns)</span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb33-3"><a href="#cb33-3"></a></span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="co"># set seed for reproducibility</span></span>
<span id="cb33-5"><a href="#cb33-5"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb33-6"><a href="#cb33-6"></a>lmds<span class="ot">&lt;-</span><span class="fu">layout.mds</span>(friendship)</span>
<span id="cb33-7"><a href="#cb33-7"></a>lfr<span class="ot">&lt;-</span><span class="fu">layout.fruchterman.reingold</span>(friendship)</span>
<span id="cb33-8"><a href="#cb33-8"></a></span>
<span id="cb33-9"><a href="#cb33-9"></a><span class="fu">plot</span>(friendship, </span>
<span id="cb33-10"><a href="#cb33-10"></a>     <span class="at">layout =</span> lmds,</span>
<span id="cb33-11"><a href="#cb33-11"></a>     <span class="at">vertex.label.cex=</span>.<span class="dv">6</span>,</span>
<span id="cb33-12"><a href="#cb33-12"></a>     <span class="at">vertex.size=</span><span class="dv">6</span>,</span>
<span id="cb33-13"><a href="#cb33-13"></a>     <span class="at">vertex.label.dist=</span><span class="fl">1.5</span>,</span>
<span id="cb33-14"><a href="#cb33-14"></a>     <span class="at">vertex.label.degree=</span><span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb33-15"><a href="#cb33-15"></a>     <span class="at">edge.curved=</span>.<span class="dv">2</span>,</span>
<span id="cb33-16"><a href="#cb33-16"></a>     <span class="at">edge.arrow.size=</span>.<span class="dv">3</span>,</span>
<span id="cb33-17"><a href="#cb33-17"></a>     <span class="at">asp=</span><span class="fl">1.4</span>,</span>
<span id="cb33-18"><a href="#cb33-18"></a>     <span class="at">main=</span><span class="st">"Multidimensional scaling layout"</span>)</span>
<span id="cb33-19"><a href="#cb33-19"></a></span>
<span id="cb33-20"><a href="#cb33-20"></a><span class="fu">plot</span>(friendship, </span>
<span id="cb33-21"><a href="#cb33-21"></a>     <span class="at">layout =</span> lfr,</span>
<span id="cb33-22"><a href="#cb33-22"></a>     <span class="at">vertex.label.cex=</span>.<span class="dv">6</span>,</span>
<span id="cb33-23"><a href="#cb33-23"></a>     <span class="at">vertex.size=</span><span class="dv">6</span>,</span>
<span id="cb33-24"><a href="#cb33-24"></a>     <span class="at">vertex.label.dist=</span><span class="fl">1.5</span>,</span>
<span id="cb33-25"><a href="#cb33-25"></a>     <span class="at">vertex.label.degree=</span><span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb33-26"><a href="#cb33-26"></a>     <span class="at">edge.curved=</span>.<span class="dv">2</span>,</span>
<span id="cb33-27"><a href="#cb33-27"></a>     <span class="at">edge.arrow.size=</span>.<span class="dv">3</span>,</span>
<span id="cb33-28"><a href="#cb33-28"></a>     <span class="at">asp=</span><span class="fl">1.4</span>,</span>
<span id="cb33-29"><a href="#cb33-29"></a>     <span class="at">main=</span><span class="st">"Fruchterman Reingold layout"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">graphics.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section></section><section id="centrality" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="centrality">
<span class="header-section-number">4.2</span> Centrality</h2>
<p>In this section we look at measures of network centrality, which we use to identify structurally important actors. We also discuss possible ideas for identifying important edges. Centrality originally referred to how central actors are in a network’s structure. It has become abstracted as a term from its topological origins and now refers very generally to how important actors are to a network. Topological centrality has a clear definition, but many operationalizations. Network “importance” on the other hand has many definitions and many operationalizations.</p>
<p>There are four well-known centrality measures: degree, betweenness, closeness and eigenvector - each with its own strengths and weaknesses. The usefulness of each depends on the context of the network, the type of relation being analyzed and the underlying network morphology.</p>
<p>Every node-level measure has its graph-level analogue. Centralization measures the extent to which the ties of a given network are concentrated on a single actor or group of actors. We can also look at the degree distribution. It is a simple histogram of degree, which tells you whether the network is highly unequal or not.</p>
<section id="the-medici-dataset" class="level3" data-number="4.2.1"><h3 data-number="4.2.1" class="anchored" data-anchor-id="the-medici-dataset">
<span class="header-section-number">4.2.1</span> The Medici dataset</h3>
<p>We will use John Padgett’s Florentine Families dataset. It is part of a famous historical dataset about the relationships of prominent Florentine families in 15th century Italy. The historical puzzle is how the Medici, an upstart family, managed to accumulate political power during this period. Padgett’s goal was to explain their rise.</p>
<p>He looked at many relations. We have access to marriage, credit, and business partnership ties, but we will focus on marriage and business partnerships for now. Marriage was a tool in diplomacy, central to political alliances (these relations were used in the lecture). We focus here on the business relations.</p>
<p>Based on this plot, which family do you expect is most central?</p>
</section><section id="degree-centrality" class="level3" data-number="4.2.2"><h3 data-number="4.2.2" class="anchored" data-anchor-id="degree-centrality">
<span class="header-section-number">4.2.2</span> Degree Centrality</h3>
<p>The simplest measure of centrality is degree centrality. As discussed in the previous part, it counts how many edges each node has - the most degree central actor is the one with the most ties.</p>
<pre><code>Note: In a directed network, you will need to specify if in or out ties should be counted. These will be referred to as in or out degree respectively. If both are counted, then it is just called degree.</code></pre>
<p>Degree centrality is calculated using the degree function in R. It returns how many edges each node has. Note that we first have to simplify the graph.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">degree</span>(PM)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ACCIAIUOLI      ALBIZZI    BARBADORI     BISCHERI   CASTELLANI       GINORI 
           1            3            2            3            3            1 
    GUADAGNI LAMBERTESCHI       MEDICI        PAZZI      PERUZZI        PUCCI 
           4            1            6            1            3            0 
     RIDOLFI     SALVIATI      STROZZI   TORNABUONI 
           3            2            4            3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">degree</span>(PB)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ACCIAIUOLI      ALBIZZI    BARBADORI     BISCHERI   CASTELLANI       GINORI 
           0            0            4            3            3            2 
    GUADAGNI LAMBERTESCHI       MEDICI        PAZZI      PERUZZI        PUCCI 
           2            4            5            1            4            0 
     RIDOLFI     SALVIATI      STROZZI   TORNABUONI 
           0            1            0            1 </code></pre>
</div>
</div>
<p>We can assign the output to a variable in the network and size the nodes according to degree.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">V</span>(PB)<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="fu">degree</span>(PB) <span class="co"># assignment</span></span>
<span id="cb40-2"><a href="#cb40-2"></a></span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="fu">plot</span>(PB, <span class="at">vertex.label.cex =</span> .<span class="dv">6</span>, <span class="at">vertex.label.color =</span> <span class="st">"black"</span>, <span class="at">vertex.size =</span> <span class="fu">V</span>(PB)<span class="sc">$</span>degree, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">asp=</span><span class="fl">0.6</span>, <span class="at">xlab=</span><span class="st">"Marriage relations"</span>) <span class="co"># sized by degree</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The problem is that the degree values are a little small to plot well. We can use a scalar to increase the value of the degree but maintain the ratio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">plot</span>(PB, </span>
<span id="cb41-2"><a href="#cb41-2"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">6</span>, </span>
<span id="cb41-3"><a href="#cb41-3"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>, </span>
<span id="cb41-4"><a href="#cb41-4"></a>     <span class="at">vertex.size =</span> <span class="fu">V</span>(PB)<span class="sc">$</span>degree<span class="sc">*</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="betweenness-centrality" class="level3" data-number="4.2.3"><h3 data-number="4.2.3" class="anchored" data-anchor-id="betweenness-centrality">
<span class="header-section-number">4.2.3</span> Betweenness Centrality</h3>
<p>Betweenness centrality captures which nodes are important in the flow of the network. It makes use of the shortest paths in the network. A path is a series of adjacent nodes. For any two nodes we can find the shortest path between them, that is, the path with the least amount of total steps (or edges). If a node C is on a shortest path between A and B, then it means C is important to the efficient flow of goods between A and B. Without C, flows would have to take a longer route to get from A to B.</p>
<p>Thus, betweenness effectively counts how many shortest paths each node is on. The higher a node’s betweenness, the more important they are for the efficient flow of goods in a network.</p>
<p>In igraph, <code>betweenness()</code> computes betweenness in the network.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">betweenness</span>(PB, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ACCIAIUOLI      ALBIZZI    BARBADORI     BISCHERI   CASTELLANI       GINORI 
         0.0          0.0         25.0          2.5          5.0          0.0 
    GUADAGNI LAMBERTESCHI       MEDICI        PAZZI      PERUZZI        PUCCI 
         0.0          6.0         24.0          0.0         13.5          0.0 
     RIDOLFI     SALVIATI      STROZZI   TORNABUONI 
         0.0          0.0          0.0          0.0 </code></pre>
</div>
</div>
<p>We can again assign the output of <code>betweenness()</code> to a variable in the network and size the nodes according to it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">V</span>(PB)<span class="sc">$</span>betweenness <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(PB, <span class="at">directed =</span> F) <span class="co"># assignment</span></span>
<span id="cb44-2"><a href="#cb44-2"></a></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="fu">plot</span>(PB, </span>
<span id="cb44-4"><a href="#cb44-4"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">6</span>, </span>
<span id="cb44-5"><a href="#cb44-5"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>, </span>
<span id="cb44-6"><a href="#cb44-6"></a>     <span class="at">vertex.size =</span> <span class="fu">V</span>(PB)<span class="sc">$</span>betweenness) <span class="co"># sized by betweenness</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Betweenness centrality can be very large. It is often helpful to normalize it by dividing by the maximum and multiplying by some scalar when plotting.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">plot</span>(PB,</span>
<span id="cb45-2"><a href="#cb45-2"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">6</span>, </span>
<span id="cb45-3"><a href="#cb45-3"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>, </span>
<span id="cb45-4"><a href="#cb45-4"></a>     <span class="at">vertex.size =</span> <span class="fu">V</span>(PB)<span class="sc">$</span>betweenness<span class="sc">/</span><span class="fu">max</span>(<span class="fu">V</span>(PB)<span class="sc">$</span>betweenness) <span class="sc">*</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="closeness-centrality" class="level3" data-number="4.2.4"><h3 data-number="4.2.4" class="anchored" data-anchor-id="closeness-centrality">
<span class="header-section-number">4.2.4</span> Closeness Centrality</h3>
<p>With closeness centrality we again make use of the shortest paths between nodes. We measure the distance between two nodes as the length of the shortest path between them. Farness, for a given node, is the average distance from that node to all other nodes. Closeness is then the reciprocal of farness (1/farness).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">closeness</span>(PB)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ACCIAIUOLI      ALBIZZI    BARBADORI     BISCHERI   CASTELLANI       GINORI 
         NaN          NaN   0.05882353   0.04000000   0.05000000   0.04545455 
    GUADAGNI LAMBERTESCHI       MEDICI        PAZZI      PERUZZI        PUCCI 
  0.03125000   0.04166667   0.05263158   0.03571429   0.05263158          NaN 
     RIDOLFI     SALVIATI      STROZZI   TORNABUONI 
         NaN   0.03571429          NaN   0.03571429 </code></pre>
</div>
</div>
<p>Note that the isolated families have an undefined distance to others in the network. Adjusting node size by closeness can only be done when replacing the NaN.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>d <span class="ot">&lt;-</span> <span class="fu">closeness</span>(PB)</span>
<span id="cb48-2"><a href="#cb48-2"></a>d[<span class="fu">is.na</span>(d)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb48-3"><a href="#cb48-3"></a></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="fu">plot</span>(PB,</span>
<span id="cb48-5"><a href="#cb48-5"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">6</span>, </span>
<span id="cb48-6"><a href="#cb48-6"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>, </span>
<span id="cb48-7"><a href="#cb48-7"></a>     <span class="at">vertex.size=</span>d<span class="sc">*</span><span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="eigenvector-centrality" class="level3" data-number="4.2.5"><h3 data-number="4.2.5" class="anchored" data-anchor-id="eigenvector-centrality">
<span class="header-section-number">4.2.5</span> Eigenvector Centrality</h3>
<p>Degree centrality only takes into account the number of edges for each node, but it leaves out information about ego’s alters.</p>
<p>However, we might think that power comes from being tied to powerful people. If A and B have the same degree centrality, but A is tied to all high degree people and B is tied to all low degree people, then intuitively we want to see A with a higher score than B.</p>
<p>Eigenvector centrality takes into account alters’ power. It is calculated a little bit differently in igraph. It produces a list object and we need to extract only the vector of centrality values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">evcent</span>(PB)<span class="sc">$</span>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ACCIAIUOLI      ALBIZZI    BARBADORI     BISCHERI   CASTELLANI       GINORI 
   0.0000000    0.0000000    0.8289579    0.7310627    0.8305427    0.4046458 
    GUADAGNI LAMBERTESCHI       MEDICI        PAZZI      PERUZZI        PUCCI 
   0.4992669    0.9235790    0.5120959    0.1545184    1.0000000    0.0000000 
     RIDOLFI     SALVIATI      STROZZI   TORNABUONI 
   0.0000000    0.1545184    0.0000000    0.1545184 </code></pre>
</div>
</div>
<section id="measure-correlations" class="level4" data-number="4.2.5.1"><h4 data-number="4.2.5.1" class="anchored" data-anchor-id="measure-correlations">
<span class="header-section-number">4.2.5.1</span> Measure Correlations</h4>
<p>Most of these measures are highly correlated, meaning they don’t necessarily capture unique aspects of pwoer. However, the amount of correlation depends on the network structure. Let’s see how the correlations between centrality measures looks in the Florentine Family network. cor.test(x,y) performs a simple correlation test between two vectors.</p>
<p>Marriage paradox: Do their marriage partners have more marriage partners than they do? We can use `knn’ command for this, which calculates the average neareast neigbor degree of a vertice.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="co"># degrees of your friends</span></span>
<span id="cb51-2"><a href="#cb51-2"></a></span>
<span id="cb51-3"><a href="#cb51-3"></a>neighbor_degrees <span class="ot">&lt;-</span> <span class="fu">knn</span>(PB)<span class="sc">$</span>knn</span>
<span id="cb51-4"><a href="#cb51-4"></a>degrees <span class="ot">&lt;-</span> <span class="fu">degree</span>(PB)</span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="fu">mean</span>(neighbor_degrees, <span class="at">na.rm =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.830303</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">mean</span>(degrees)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.875</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># plot neighbor degrees vs. ego degrees</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">hist</span>(neighbor_degrees)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">hist</span>(degrees)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-35-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<pre><code>Note: We can see that most nodes in the marriage network have low betweenness centrality, and only one node has more than 40 betweenness. Degree distributions tend to be right-skewed; that is, only a few nodes in most networks have most of the ties. Evenly distributed degree is much rarer.</code></pre>
</section></section></section><section id="variation-in-centrality" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="variation-in-centrality">
<span class="header-section-number">4.3</span> Variation in centrality</h2>
<p>Centralization measures the extent to which a network is centered around a single node. The closer a network gets to looking like a star, the higher the centralization score will be. Below are two extreme network structure, on the one hand the Wheel structure (aka star structure) with a maximum variation in network centrality, on the other hand we have the circle network, with no variation of centrality scores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>sstar <span class="ot">&lt;-</span> <span class="fu">make_star</span>(<span class="dv">10</span>, <span class="at">center =</span> <span class="dv">1</span>, <span class="at">mode =</span> <span class="st">"undirected"</span>)</span>
<span id="cb58-2"><a href="#cb58-2"></a>sfull <span class="ot">&lt;-</span> <span class="fu">make_full_graph</span>(<span class="dv">10</span>, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">loops =</span> <span class="cn">FALSE</span>)</span>
<span id="cb58-3"><a href="#cb58-3"></a></span>
<span id="cb58-4"><a href="#cb58-4"></a><span class="fu">V</span>(sfull)<span class="sc">$</span>name <span class="ot">&lt;-</span> letters[<span class="fu">seq_len</span>(<span class="fu">vcount</span>(sfull))]</span>
<span id="cb58-5"><a href="#cb58-5"></a><span class="fu">V</span>(sstar)<span class="sc">$</span>name <span class="ot">&lt;-</span> letters[<span class="fu">seq_len</span>(<span class="fu">vcount</span>(sstar))]</span>
<span id="cb58-6"><a href="#cb58-6"></a></span>
<span id="cb58-7"><a href="#cb58-7"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb58-8"><a href="#cb58-8"></a><span class="fu">plot</span>(sfull, <span class="at">main=</span><span class="st">"Clique: decentralized network"</span>)</span>
<span id="cb58-9"><a href="#cb58-9"></a><span class="fu">plot</span>(sstar, <span class="at">main=</span> <span class="st">"Wheel: centralized network"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="3_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="classic-communication-experiments" class="level3" data-number="4.3.1"><h3 data-number="4.3.1" class="anchored" data-anchor-id="classic-communication-experiments">
<span class="header-section-number">4.3.1</span> Classic communication experiments</h3>
<p>In the golden age of social psychology a series of studies, the so-called “Bavelas-Smith-Leavitt experiments” was used to study how network structure could affect team problem solving. The figure below is a quick summary of the original experiment (from Burt et al.&nbsp;2022). Five subjects are assigned at random to positions in the four displayed communication networks. The networks are simplified in that connections are all or nothing (no variable-strength connections) and access to each structural hole is all or nothing (no shared access).</p>
<p><img src="C:/Users/grooks/Documents/Onderwijs/0HV80/2023/Exercises/bavelas_experiment.png" class="img-fluid" style="width:75.0%"></p>
<p>Each subject is given a card containing five of the six symbols displayed at the top of the figure. One symbol is on all five cards. The team coordination task is to determine, as quickly as possible, which symbol is on all five cards. Seated around a card table passing written notes, subjects communicate through connections displayed in the figure. A trial is complete when all five teammates submit an answer. Completion does not depend on accuracy. After solving the task for the first trial, the team is presented with another, and another, until they complete all trials, or run out of time. Each trial task involves the same six symbols, but the particular symbol held in common during a trial varies from trial to trial.</p>
<p>Summary results from Leavitt (1949, 1951) are given in the table below the sociograms. Groups in the WHEEL network solve the problem more quickly (32.0 s versus 50.4 for the CIRCLE), involving fewer messages (43.0 messages per person versus 83.8 in the CIRCLE), but finish with a lower level of satisfaction (44.4 average survey response for people in the WHEEL on 100-point response to “How did you like your job in the group?” versus 65.6 for people in the CIRCLE).</p>
<p>The task was deliberately simple in the original experiment. Experiments with complex tasks soon followed the original. Sidney Smith, the person who designed the figure experiment run in 1948, subsequently ran a “noisy marble” version in 1950. Complexity is introduced by making more abstract the symbols on which subjects coordinate. The task is to identify which of six marbles teammates have in common. The initial 15 trials are simple in that the six marbles obviously differ by solid color (red, blue, black, yellow, green, and white). The subsequent 15 trials are complex in that the marbles differed by cloudy, mottled, indistinct colors. They were still easy to distinguish if they could be directly compared, but it was very difficult to describe each one clearly and unambiguously.” In other words, subjects in the complex trials of “noisy marble” had to coordinate on words to identify marbles in addition to determining which marbles each held.</p>
<p>Not surprisingly, coordination on complex tasks requires more time, involves more messages between subjects, more erroneous answers, and leaves subjects feeling less positive about the experience (succinctly shown in Shaw, 1954). More surprising and not anticipated by the researchers was the fact that the CIRCLE network is more effective than the WHEEL for coordination on a complex task. Subjects in the CIRCLE network show faster learning and submit fewer wrong answers. Christie et al.&nbsp;(1952) propose that the sharp difference between leader and follower in the WHEEL network — which is an advantage for simple coordination — is a disadvantage for complex coordination because followers are too passive in their confusion, and leaders too unaware of the confusion among followers. Teammate confusion is more apparent to teammates in the CIRCLE network, so they can deal with it. In corroboration, when the leader in the WHEEL network is given feedback at the end of each trial on the wrong answers submitted by teammates, their confusion was more evident to the leader, and WHEEL network performance improves visibly (Christie et al., 1952:141, 154).</p>
</section><section id="network-structure-success-and-leadership-perception" class="level3" data-number="4.3.2"><h3 data-number="4.3.2" class="anchored" data-anchor-id="network-structure-success-and-leadership-perception">
<span class="header-section-number">4.3.2</span> Network structure, success and leadership perception</h3>
<p>The renovated classic experiment described above was again used to study the whether access to so-called “structural holes” is associated with success, and perceptions of leadership. A structural hole can be understood as a gap between two individuals who have complementary sources to information. In the figure above in the CIRCLE network all actors are in fact bridging a structural hole. Actor A bridges a structural hole between actors B and E. In the CHAIN network actor A is not bridging a structural hole. In the figure the “holes” column is a so-called bridge count, which is a simple and intuitive measure of structural holes in a network. Bridge is defined as a relation between two individuals if there is no indirect connection between them through mutual contacts.</p>
<p>Structural holes theory was constructed by Ronald Burt, and was conceptually inspried by the strength of weak ties theory, the influential theory devised by Mark Granovetter (more about that theory in the diffusion network part of the course), and the betweenness centrality ideas discussed above. The theory is that structural holes are opportunities to broker information across groups separated by the holes, which gives people with access to structural holes information advantages of breadth, timing, and arbitrage, so such people — network brokers — are more likely to detect and develop good ideas into rewarding achievements.</p>
<p>in the experiment the hypothesis was that access to structural holes increases the odds that a person is perceived by colleagues to be a leader. People are perceived to be leaders when they behave as network brokers, which is to say, when they coordinate information across structural holes.</p>
<p><img src="C:/Users/grooks/Documents/Onderwijs/0HV80/2023/Exercises/Structuralholes.png" class="img-fluid" style="width:75.0%"></p>
<p>In the above figure the vertical axis is percent of citations to subject in response to question: “Did your group have a leader? If so, who?” Solid dots are mean number of citations received by subjects at the same level of network constraint.</p>
<p>The most readily recognized leaders are positioned as the hub in a WHEEL.The individuals least often cited as leaders are in small, closed networks — 0 %, 0 %, and 3 % respectively cited as leaders in the pendant positions of the WHEEL, CHAIN, and Y networks in the original study, 0 % cited here as leaders in the pendant positions of a WHEEL network, and 3 % cited as leaders in 3-person clique networks.</p>
</section><section id="illicit-networks" class="level3" data-number="4.3.3"><h3 data-number="4.3.3" class="anchored" data-anchor-id="illicit-networks">
<span class="header-section-number">4.3.3</span> Illicit networks</h3>
<p>The application of social network analysis to criminal phenomena has gained considerable attention. Network studies of crime often consider illicit networks, social networks in which actors seek to keep themselves and their activities concealed to avoid detection. Examples include secret societies, criminal enterprises, drug distribution networks, and terrorist networks. Illicit networks are goal oriented in that they operate to realize their objectives, such as collusion in a price-fixing scheme, trafficking illicit drugs, distributing stolen property, or executing a terrorist attack. The structure of illicit networks is influenced by the fact that the enterprise must accomplish its goals despite scrutiny and regulation from law enforcement and other official bodies. This makes illicit networks different from non-illicit networks. To some extent, these differences have led to a sense that illicit networks face a distinct trade-off between efficiency and concealment, with consequences for network structure. The most efficient communication network or task coordination structure might be one that makes the enterprise vulnerable to detection. However, structures that increase concealment (such as sparse communication networks) might be inefficient for accomplishing the enterprise’s tasks. Nevertheless, as Morselli (2009) points out, illicit networks requiring resource sharing are under pressure from law enforcement, and face constraints on the kinds of network structures that can be maintained.</p>
<p>Baker et al (1995) examined the link between risk and security within a network structure. Their study on the social organization of three segments in the heavy electrical equipment industry, in which collusion and price-fixing were prevalent, revealed the importance of players operating in the peripheries of a criminal network. These peripheral players were less targeted and less sanctioned than more central players. Remaining in the periphery was a way of protecting oneself.</p>
<p><img src="C:/Users/grooks/Documents/Onderwijs/0HV80/2023/Exercises/baker.png" class="img-fluid" style="width:75.0%"></p>
<p>At the group level, having a periphery (or lacking a clear-cut core) is a way of opting for security before efficiency: reducing risk in the network does have a trade-off in that each operation and the transmission of information take longer to process. Knowing that the risks associated with covert activities generally lead to the end of a network or the termination of the potential actions of targeted participants, a loss in efficiency clearly becomes an acceptable outcome for many participants. Thus, within the efficiency/security trade-off, security appears to be the predominant concern in criminal networks.</p>
<p>The study of Baker focused at organizations. Human illicit networks are similar in the sense that a trade off has to be made between efficiency and security. Erickson (1981) stressed the importance of security in covert networks from a social network perspective in her re-analysis of six case studies of secret societies under risk: the Auschwitz underground during World War 2; a rebellion group in 19th century China; a New York City Cosa Nostra family; a heroin market in San Antonio, TX; a sample of marijuana consumers from Cheltenham, England; and a Norwegian resistance group during World War 2. She argued that when networks are obliged to choose between efficiency and security, organizational structures with a proven level of endurance and an established reputation opt for the latter. Her key point was that in order to understand the structure of a network, the “conditions under which they exist” must first be appreciated (p.&nbsp;189). Risky conditions generally lead participants to assure security within the network. One way the network members of Erickson’s case studies achieved this was by relying primarily on pre-existing networks that formed the foundation upon which each secret society was designed to compensate for risk.</p>
</section></section><section id="exercise" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="exercise">
<span class="header-section-number">4.4</span> Exercise</h2>
<p>The data arose from an early experiment on computer mediated communication. Fifty academics interested in interdisciplinary research were allowed to contact each other via an Electronic Information Exchange System (EIES). The data collected consisted of all messages sent plus acquaintance relationships at two time periods (collected via a questionnaire).The data includes the 32 actors who completed the study. In addition attribute data on primary discipline and number of citations was recorded. TIME_1 and TIME_2 give the acquaintance information at the beginning and end of the study. This is coded as follows: 4 = close personal fiend, 3= friend, 2= person I’ve met, 1 = person I’ve heard of but not met, and 0 = person unknown to me (or no reply). NUMBER_OF MESSAGES is the total number of messages person i sent to j over the entire period of the study. The attribute data gives the number of citations of the actors work in the social science citation index at the beginning of the study together with a discipline code: 1 = Sociology, 2 = Anthropology, 3 = Mathematics/Statistics, 4 = other.</p>
<p>Edges are in “Freeman’s_EIES.xlsx”. Nodes in “Freeman_EIES_Attribute.xlsx”.</p>
<ol type="1">
<li><p>Read the data, a relation should indicate that a tie is a friend (so code 3 &amp; 4).</p></li>
<li><p>Plot the network, include department attribute, make vertex size proportional to scientific impact</p></li>
<li><p>Plot and compare a MDS and FR layout.</p></li>
<li><p>There are two illicit network datasets at your disposal. Compare a gang (MONTREALGANG.csv) and terrorist network (MALI.csv). What do you expect a priori?</p></li>
<li><p>Who is the most important actor in the Montreal network? Why?</p></li>
<li><p>Who is the most important actor in the Mali network? Why?</p></li>
</ol>


</section></main><!-- /main --><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script><script>
// open rdrr links externally ----

var exlinks = document.querySelectorAll("a[href^='https://rdrr.io']");
var exlink_func = function(){
  window.open(this.href);
  return false;
};
for (var i = 0; i < exlinks.length; i++) {
    exlinks[i].addEventListener('click', exlink_func, false);
}

// visible second sidebar in mobile ----

function move_sidebar() {
  var toc = document.getElementById("TOC");
  var small_sidebar = document.querySelector("#quarto-sidebar .sidebar-menu-container");
  var right_sidebar = document.getElementById("quarto-margin-sidebar");

  if (window.innerWidth < 768) {
    small_sidebar.append(toc);
  } else {
    right_sidebar.append(toc);
  }
}
move_sidebar();
window.onresize = move_sidebar;
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Social network basics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./4.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Social Cohesion</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">CC-BY (2023) Me</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


</body></html>